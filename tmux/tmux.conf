bind C-r source-file $XDG_CONFIG_HOME/tmux/tmux.conf \; display "Reloaded!"

#############################
# other settings
#############################

# prefixã‚­ãƒ¼ã‚’C-aã«å¤‰æ›´ã™ã‚‹
set -g prefix C-t

# C-bã®ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã‚’è§£é™¤ã™ã‚‹
unbind C-b

# ã‚­ãƒ¼ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ã®ãƒ‡ã‚£ãƒ¬ã‚¤ã‚’æ¸›ã‚‰ã™
set -sg escape-time 1

# C-t*2ã§tmuxå†…ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«C-tã‚’é€ã‚‹
bind C-t send-prefix

# '|' ã§ãƒšã‚¤ãƒ³ã‚’ç¸¦ã«ã€'-' ã§ãƒšã‚¤ãƒ³ã‚’æ¨ªã«åˆ†å‰²ã™ã‚‹
bind | split-window -h -c '#{pane_current_path}'
bind - split-window -v -c '#{pane_current_path}'
bind = select-layout even-horizontal

# Vimã®ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã§ãƒšã‚¤ãƒ³ã‚’ç§»å‹•ã™ã‚‹
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind -r C-h select-window -t :-
bind -r C-l select-window -t :+

# sessionã®ä½œæˆï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³åã¯prefix -> $ã§å¤‰æ›´å¯èƒ½ï¼‰
bind c new-session
bind-key r command-prompt -p "change session name to:" "rename-session '%%'"

# window ã®ä½œæˆ
bind t new-window

# Vimã®ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã§ãƒšã‚¤ãƒ³ã‚’ãƒªã‚µã‚¤ã‚ºã™ã‚‹
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# ãƒšã‚¤ãƒ³ã‚’æ•°å­—ã§é¸ã¹ã‚‹ã‚ˆã†ã«ã™ã‚‹
# ref: https://qiita.com/pocari/items/b1828c8aea8e3545cadd
bind C-o display-panes
bind o display-panes
set -g display-panes-time 10000

# å…¨ãƒšã‚¤ãƒ³åŒæœŸã‚’ãƒˆã‚°ãƒ«ã™ã‚‹
# ref: https://qiita.com/waieneiaw/items/22ed18809739c9a69f25
bind a setw synchronize-panes \; display "synchronize-panes #{?pane_synchronized,on,off}"

# popupã§lazygitã‚’é–‹ãï¼ˆ-Eã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒãªã„ã¨ESCã§popupãŒã‚¯ãƒ­ãƒ¼ã‚ºã—ã¦ã—ã¾ã†ï¼‰
bind g popup -w95% -h95% -E -d "#{pane_current_path}" lazygit
bind f popup -w95% -h95% -E -d "#{pane_current_path}" vifm
bind s run -b tmux-session-fzf

# ãƒã‚¦ã‚¹æ“ä½œã‚’æœ‰åŠ¹ã«ã™ã‚‹
setw -g mouse on

set -g default-terminal "screen-256color"  # åŸºæœ¬çš„ã«ã¯screen-256colorã‹tmux-256colorã‚’è¨­å®š
set-option -ga terminal-overrides ",$TERM:Tc" # tmuxã‚’èµ·å‹•ã—ã¦ã„ãªã„æ™‚ã®zshã§ã®$TERMã®å€¤ã‚’æŒ‡å®š

# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã®è‰²ã‚’è¨­å®šã™ã‚‹
# set -g status-style fg=white,bg=black

# ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒªã‚¹ãƒˆã®è‰²ã‚’è¨­å®šã™ã‚‹
# setw -g window-status-style fg=cyan,bg=default,dim
# ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ç›®ç«‹ãŸã›ã‚‹
# setw -g window-status-current-style fg=white,bg=red,bright

# pane border
set-option -g pane-border-status top
# #1c1c1c
# #89faa0
# #f6fa89
# #facb89
# #faa589
# #b728c7
set-option -g pane-border-format "#{?pane_active,#[bold]#[fg=#b728c7]#[bg=#89faa0]î‚°#[fg=white]#[bg=#89faa0] ğŸ§‘â€ğŸ’» FOCUSED ğŸ§‘â€ğŸ’» #[fg=#89faa0]#[bg=#f6fa89]î‚°#[fg=#1c1c1c]#[bg=#f6fa89] W:#I P:#P #[fg=#f6fa89]#[bg=#facb89]î‚°#[fg=#1c1c1c]#[bg=#facb89] #{s|^$HOME|~|:pane_current_path} #[fg=#facb89]#[bg=#faa589]î‚°#[fg=#1c1c1c]#[bg=#faa589] CMD: #{pane_current_command} #[fg=#faa589]#[bg=#b728c7]î‚°,#[fg=#1c1c1c]#[bg=black]î‚°#[fg=white]#[bg=black] W:#I P:#P î‚± #{s|^$HOME|~|:pane_current_path} î‚± CMD: #{pane_current_command} #[fg=black]#[bg=#1c1c1c]î‚°}"

set-option -g pane-border-style fg=white,bg=black #base2
set-option -g pane-active-border-style fg=#b728c7,bg=#b728c7 #base1

# ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã®è‰²ã‚’è¨­å®šã™ã‚‹
# set -g message-style fg=white,bg=black,bright

# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã‚’è¨­å®šã™ã‚‹
## å·¦ãƒ‘ãƒãƒ«ã‚’è¨­å®šã™ã‚‹
set -g status-left-length 40
set -g status-left "#{?client_prefix,#[reverse],}#[fg=black]Session: #S, W:#I, P:#P #{?pane_synchronized,#[bg=red]SYNC#[default],}"
## å³ãƒ‘ãƒãƒ«ã‚’è¨­å®šã™ã‚‹
set -g status-right "#[fg=black][%Y-%m-%d(%a) %H:%M]"
## ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã®é–“éš”ã‚’è¨­å®šã™ã‚‹(ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ 15ç§’)
set -g status-interval 60
## ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒªã‚¹ãƒˆã®ä½ç½®ã‚’ä¸­å¿ƒå¯„ã›ã«ã™ã‚‹
set -g status-justify centre
## ãƒ´ã‚£ã‚¸ãƒ¥ã‚¢ãƒ«ãƒãƒ¼ãƒ†ã‚£ãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æœ‰åŠ¹ã«ã™ã‚‹
setw -g monitor-activity on
set -g visual-activity on
## ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã‚’ä¸Šéƒ¨ã«è¡¨ç¤ºã™ã‚‹
set -g status-position top

#### Ubuntu

# ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ãƒ¤ãƒ³ã‚¯ã™ã‚‹
# https://qiita.com/yuki-k/items/2a28b40f0bd49b2bcb21
bind -T copy-mode-vi y send -X copy-pipe-and-cancel "xsel -ip && xsel -op | xsel -ib"
bind -T copy-mode-vi Enter send -X copy-pipe-and-cancel "xsel -ip && xsel -op | xsel -ib"
